@using Microsoft.AspNetCore.Http;
@using System.Net
@model WebApplicationClient.Models.Prediction
@{
    // var model = ViewBag.model as Disease;
    var getDisease = ViewBag.Disease as Disease;
    var listCauses = ViewBag.listCauses as List<Cause>;
    var listSymptoms = ViewBag.listSymptoms as List<Symptom>;
    var listMeasures = ViewBag.listMeasures as List<PreventativeMeasure>;
    var listPesticides = ViewBag.listPesticides as List<Pesticide>;
    var index = 1;
    var bestProbability = Model.PredictionPercent;
    var bestLabel = Model.PredictionBestLabel;
    var mediumProbability = Model.PredictionMediumPercent;
    var mediumLabel = Model.PredictionMediumLabel;
    var worstProbability = Model.PredictionWorstPercent;
    var worstLabel = Model.PredictionWorstLabel;
}

@{
    Layout = "~/Views/Shared/_Layout1.cshtml";
}

<link rel="stylesheet" href="~/css/symptom.css" type="text/css" />
<link rel="stylesheet" href="~/css/diseaseInfoUser.css" type="text/css" />


<style>
    .hr7 {
        overflow: visible;
        height: 30px;
        border-style: solid;
        border-color: #FF4069;
        border-width: 1px 0 0 0;
        border-radius: 20px;
        color: #FF4069;
        font-size: 0.7em;
        text-align: center;
    }

        .hr7:before {
            display: block;
            content: "";
            height: 30px;
            margin-top: -31px;
            border-style: solid;
            border-color: #FF4069;
            border-width: 0 0 1px 0;
            border-radius: 20px;
        }

        .hr7:after {
            background: #F7F7F7;
            content: "\002665";
            display: inline-block;
            font-size: 1.7em;
            position: relative;
            top: -.6em;
        }

</style>

<div class="overlay"></div>
<div class="container my-5">
    @*<div class="row justify-content-center mb-2">
        <div class="col-md-12" style="height:500px">
            <canvas id="myPieChart" width="200" height="200"></canvas>
        </div>
    </div>*@

    <img class="w-100 my-3" width="250" height="450" src="https://ohioline.osu.edu/sites/ohioline/files/imce/Plant_Pathology/PLPATH-FRU-35-Strawberry-Leaf-Diseases-figure-3.jpg" />

    <div style="max-width: 700px; top: -80px;" class="mx-auto text-secondary position-relative">
        <div class="text-center mb-4">
            <img src="https://picsum.photos/164" style="width: 120px; border: 5px solid #eee; background-color: white;" class="rounded-circle mx-auto text-center" />
            <div>
                <small>
                    <a href="#" class="text-primary">Create Date :@Model.CreatedAt</a>, <a href="#" class="text-primary">Update Date: @Model.UpdatedAt</a>
                </small>
            </div>
            <h1 class="text-center font-weight-bold text-dark">
                Disease Name: @getDisease.Name
            <div>
                <small class="text-dark">
                    Written by <a href="#" class="text-primary">Expert</a>
                </small>
            </div>
        </div>
          <div class="row mb-2">
            <div class="col-md-12 d-flex justify-content-center" style="height:500px">
                <canvas id="myPieChart" width="200" height="200"></canvas>
            </div>
        </div>
        <br />
        <hr class="hr7" />

        <p class="my-2" style="line-height: 2;"> @Html.Raw(WebUtility.HtmlDecode(getDisease.Description))</p>
        <br>
        <br>
        @*// ----------------------------------- 1 Disease*@
        <h3 class="font-weight-bold text-dark mb-4">#1. What cause disease?</h3>
        @*<p class="my-2" style="line-height: 2;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>*@

        <table id="example" class="table table-hover responsive nowrap" style="width:100%">
            <thead>
                <tr>
                    @*<th>Cause Name</th>*@
                </tr>
            </thead>
            <tbody>
                @foreach (var item in listCauses)
                {
                    
                            <a asp-action="Details" asp-route-id="@item.Id" asp-controller="Cause">
                        <div class="d-flex align-items-center mb-3 border rounded tagdisease" style="background-color:white">
                                    <div class="avatar avatar-blue mr-3">@index</div>
                                    <div class="">
                                        <p class="font-weight-bold mb-0 ml-3" style="color:green">@Html.DisplayFor(modelItem => item.Title)</p>
                                    </div>
                                </div>
                            </a>
                      
                    index++;
                }
            </tbody>
        </table>

        <br>

        <blockquote class="text-primary p-3 font-italic" style="border-left: 4px solid black; line-height: 2;">Strawberries are easy to grow, and are vigorous and resilient perennial plants. But they are not immune to problems. Plant diseases can take hold of a strawberry patch and wipe out your yields very quickly. We’ll explore the causes of the most common strawberry diseases below, but first, it helps to understand what exactly causes strawberries to get sick in the first place.</blockquote>

        <br>

        @*// ----------------------------------- 2 Symptom*@
        <h3 class="font-weight-bold text-dark mb-4">#2. How to identify?</h3>
        @*<p class="my-2" style="line-height: 2;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>*@

        <table id="example" class="table table-hover responsive nowrap" style="width:100%">
            <thead>
                <tr>
                    @*<th>Cause Name</th>*@
                </tr>
            </thead>
            <tbody>
                @foreach (var item in listSymptoms)
                {

                    <a asp-action="Details" asp-route-id="@item.Id"asp-controller="Symptom">
                        <div class="d-flex align-items-center mb-3 border rounded tagdisease" style="background-color:white">
                            <div class="avatar avatar-blue mr-3">@index</div>
                            <div class="">
                                <p class="font-weight-bold mb-0 ml-3" style="color:green">@Html.DisplayFor(modelItem => item.Title)</p>
                            </div>
                        </div>
                    </a>

                    index++;
                }
            </tbody>
        </table>

        <br>

        <blockquote class="text-primary p-3 font-italic" style="border-left: 4px solid black; line-height: 2;">Strawberries are easy to grow, and are vigorous and resilient perennial plants. But they are not immune to problems. Plant diseases can take hold of a strawberry patch and wipe out your yields very quickly. We’ll explore the causes of the most common strawberry diseases below, but first, it helps to understand what exactly causes strawberries to get sick in the first place.</blockquote>

        <br>

        @*// ----------------------------------- 3 PreventativeMeasures*@
        <h3 class="font-weight-bold text-dark mb-4">#3. PreventativeMeasures?</h3>
        @*<p class="my-2" style="line-height: 2;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>*@

        <table id="example" class="table table-hover responsive nowrap" style="width:100%">
            <thead>
                <tr>
                    @*<th>Cause Name</th>*@
                </tr>
            </thead>
            <tbody>
                @foreach (var item in listMeasures)
                {
                    <a asp-action="Details" asp-route-id="@item.Id" asp-controller="PreventativeMeasure">
                        <div class="d-flex align-items-center mb-3 border rounded tagdisease" style="background-color:white">
                            <div class="avatar avatar-blue mr-3">@index</div>
                            <div class="">
                                <p class="font-weight-bold mb-0 ml-3" style="color:green">@Html.DisplayFor(modelItem => item.Title)</p>
                            </div>
                        </div>
                    </a>
                    index++;
                }
            </tbody>
        </table>

        <br>

        <blockquote class="text-primary p-3 font-italic" style="border-left: 4px solid black; line-height: 2;">Strawberries are easy to grow, and are vigorous and resilient perennial plants. But they are not immune to problems. Plant diseases can take hold of a strawberry patch and wipe out your yields very quickly. We’ll explore the causes of the most common strawberry diseases below, but first, it helps to understand what exactly causes strawberries to get sick in the first place.</blockquote>

        <br>

        @*// ----------------------------------- 3 PreventativeMeasures*@
        <h3 class="font-weight-bold text-dark mb-4">#4. Pesticides </h3>
        @*<p class="my-2" style="line-height: 2;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>*@

        <table id="example" class="table table-hover responsive nowrap" style="width:100%">
            <thead>
                <tr>
                    @*<th>Cause Name</th>*@
                </tr>
            </thead>
            <tbody>
                @foreach (var item in listPesticides)
                {
                    <a asp-action="Details" asp-route-id="@item.Id" asp-controller="Pesticide">
                        <div class="d-flex align-items-center mb-3 border rounded tagdisease" style="background-color:white">
                            <div class="avatar avatar-blue mr-3">@index</div>
                            <div class="">
                                <p class="font-weight-bold mb-0 ml-3" style="color:green">@Html.DisplayFor(modelItem => item.Title)</p>
                            </div>
                        </div>
                    </a>
                    index++;
                }
            </tbody>
        </table>

        <br>

        <p class="my-2" style="line-height: 2;">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</p>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctxPie = document.getElementById('myPieChart').getContext('2d');
    new Chart(ctxPie, {
        type: 'pie',
        data: {
            labels: ['@bestLabel', '@mediumLabel', '@worstLabel'],
            datasets: [{
                label: 'My First Dataset',
                data: [(@bestProbability * 100), (@mediumProbability * 100), (@worstProbability *100)],
                backgroundColor: [
                    'rgb(255, 99, 132)',
                    'rgb(54, 162, 235)',
                    'rgb(255, 205, 86)'
                ],
                hoverOffset: 4
            }]
        },
    });
</script>

